# Объяснение: Зачем нужен Google Custom Search для динамического поиска

## Важный момент

**Google Custom Search Engine можно настроить на поиск по ВСЕМ сайтам в интернете!**

Он не ограничен конкретными сайтами. Можно создать один Search Engine, который будет искать по всему интернету, и он будет работать для любых клиник динамически.

---

## Как это работает для динамического поиска

### Текущая реализация:

1. **Один Google Custom Search Engine** настроен на поиск по всем сайтам (`*`)
2. **Для каждой клиники** система делает запрос: `"название клиники" + "город"`
3. **Google Custom Search** ищет по всему интернету и возвращает результаты
4. **Система проверяет** найденные страницы на наличие ссылок на сайт клиники

### Преимущества:

- ✅ **Работает для любых клиник** - не нужно настраивать для каждой
- ✅ **Ищет по всем сайтам** - не ограничен конкретными доменами
- ✅ **Динамический поиск** - каждый запрос ищет свежие данные
- ✅ **Один раз настроил** - работает для всех клиник

---

## Альтернатива: Работа БЕЗ Google Custom Search

Если не хотите использовать Google Custom Search, система может работать только с **известными источниками** через Firecrawl:

### Как это работает:

1. **База известных источников** (`known-sources.ts`) содержит список популярных локальных сайтов
2. **Для каждого источника** система:
   - Пытается найти страницу с упоминанием клиники через поиск на сайте источника
   - Использует Firecrawl для парсинга страницы
   - Проверяет наличие ссылки на сайт клиники

### Преимущества:

- ✅ Не требует Google Custom Search API
- ✅ Работает для любых клиник
- ✅ Нет лимита на количество источников (только лимит Firecrawl)

### Недостатки:

- ⚠️ Не найдет неизвестные источники
- ⚠️ Требует поддержки базы известных источников
- ⚠️ Может быть медленнее (нужно парсить каждый сайт)

---

## Рекомендация

### Вариант 1: Использовать Google Custom Search (рекомендуется)

**Настройка:**
1. Создайте Custom Search Engine с поиском по всем сайтам (`*`)
2. Один раз настроили - работает для всех клиник
3. Максимальный охват - находит любые источники

**Преимущества:**
- Находит неизвестные источники
- Быстрее (один API запрос)
- Работает динамически для любых клиник

### Вариант 2: Работать БЕЗ Google Custom Search

**Текущая реализация уже поддерживает это!**

Если не указать `googleCustomSearchApiKey` и `googleCustomSearchEngineId`, система будет работать только с известными источниками через Firecrawl.

**Как использовать:**
- Просто не заполняйте поля Google Custom Search в Configuration
- Система автоматически переключится на режим "только известные источники"

---

## Итог

**Google Custom Search НЕ обязателен!**

Система работает в двух режимах:

1. **С Google Custom Search** (если указаны ключи):
   - Поиск по всем сайтам через Google
   - + Проверка известных источников

2. **БЕЗ Google Custom Search** (если ключи не указаны):
   - Только проверка известных источников через Firecrawl

**Оба режима работают динамически для любых клиник!**

---

## Что выбрать?

### Используйте Google Custom Search, если:
- ✅ Хотите найти максимальное количество бэклинков
- ✅ Нужны неизвестные источники
- ✅ Готовы настроить один раз (5 минут)

### Работайте БЕЗ Google Custom Search, если:
- ✅ Не хотите настраивать Google Custom Search
- ✅ Достаточно проверки известных источников
- ✅ Готовы поддерживать базу известных источников

**Текущая реализация поддерживает оба варианта!**


