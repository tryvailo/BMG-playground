# Устранение проблемы: Пустой дашборд

## Возможные причины

### 1. Проблема с авторизацией
Если вы видите ошибку `400 (Bad Request)` при входе:
- Убедитесь, что вы зарегистрированы
- Попробуйте зарегистрироваться заново на `/auth/sign-up`
- Проверьте правильность email и пароля

### 2. Проект не найден
Дашборд ищет проект пользователя. Если проект не найден:
- Код автоматически создаст проект при первом запросе
- Проверьте логи сервера - должны быть видны сообщения о создании проекта

### 3. Данные не загружаются
Если проект найден, но данные нулевые:
- Проверьте в Supabase Studio (http://127.0.0.1:54323):
  - Table Editor → `projects` - есть ли проект с вашим `organization_id`
  - Table Editor → `weekly_stats` - есть ли 12 записей для вашего проекта

## Пошаговая диагностика

### Шаг 1: Проверьте авторизацию
1. Откройте http://localhost:3000/auth/sign-in
2. Попробуйте войти
3. Если ошибка - зарегистрируйтесь заново на `/auth/sign-up`

### Шаг 2: Проверьте логи сервера
В терминале, где запущен `pnpm dev`, должны быть видны:
```
[Dashboard] Looking for user project, user ID: <UUID>
[Dashboard] ✅ Using user project: <project_id> <domain>
[Dashboard] Found 12 weekly_stats records...
```

### Шаг 3: Проверьте данные в БД
1. Откройте Supabase Studio: http://127.0.0.1:54323
2. Перейдите в Table Editor → `projects`
3. Найдите проект с `organization_id` = ваш user ID
4. Проверьте `weekly_stats` - должно быть 12 записей

### Шаг 4: Если проект не создан автоматически
Выполните в SQL Editor:
```sql
SELECT kit.ensure_user_has_project('<ваш_user_id>');
```

## Быстрое решение

1. **Перезапустите Supabase:**
   ```bash
   cd apps/web
   pnpm supabase db reset
   ```

2. **Зарегистрируйтесь заново:**
   - Откройте http://localhost:3000/auth/sign-up
   - Создайте новый аккаунт

3. **Откройте дашборд:**
   - После регистрации откройте http://localhost:3000/en/home
   - Проект должен создаться автоматически

4. **Проверьте логи:**
   - В терминале сервера должны быть видны сообщения `[Dashboard]`
   - Если видите ошибки - скопируйте их

## Если проблема сохраняется

Отправьте:
1. Логи сервера (из терминала, где запущен `pnpm dev`)
2. Скриншот Supabase Studio с таблицами `projects` и `weekly_stats`
3. Ваш user ID (можно найти в Supabase Studio → Authentication → Users)








