# –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### 1. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ –∏ —Å—Ç–∞—Ç—É—Å–∞ –æ–ø–ª–∞—Ç—ã

**–ì–¥–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:**
- ‚úÖ –ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–∞—à–±–æ—Ä–¥–∞ (`/home`) - –≤–≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ (`/home/settings`) - –≤–≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:**
- ‚úÖ **–ù–∞–∑–≤–∞–Ω–∏–µ –ø–ª–∞–Ω–∞** (Starter, Growth, Enterprise)
- ‚úÖ **–ü–µ—Ä–∏–æ–¥ –ø–æ–¥–ø–∏—Å–∫–∏** (Monthly/Yearly)
- ‚úÖ **–°—É–º–º–∞** –∏ –≤–∞–ª—é—Ç–∞
- ‚úÖ **–°—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç—ã** —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏:
  - üü¢ **Active** (–∑–µ–ª–µ–Ω—ã–π) - —Å—á–µ—Ç –æ–ø–ª–∞—á–µ–Ω, –∞–∫–∫–∞—É–Ω—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
  - üü° **Pending Payment** (–∂–µ–ª—Ç—ã–π) - —Å—á–µ—Ç –Ω–µ –æ–ø–ª–∞—á–µ–Ω
  - üî¥ **Payment Failed** (–∫—Ä–∞—Å–Ω—ã–π) - –æ—à–∏–±–∫–∞ –æ–ø–ª–∞—Ç—ã
  - ‚ö´ **Canceled** (—Å–µ—Ä—ã–π) - –ø–æ–¥–ø–∏—Å–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞

### 2. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è pending —Å—Ç–∞—Ç—É—Å–∞

**–î–ª—è –ø–æ–¥–ø–∏—Å–æ–∫ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `pending` –∏ –º–µ—Ç–æ–¥–æ–º `manual`:**
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: **"‚ö†Ô∏è Invoice Not Paid"**
- ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ: "Invoice not paid yet. Your account will be activated after payment confirmation."
- ‚úÖ –ù–æ–º–µ—Ä —Å—á–µ—Ç–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- ‚úÖ –ñ–µ–ª—Ç—ã–π —Ñ–æ–Ω –¥–ª—è –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –≤–Ω–∏–º–∞–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
```
Subscription Status                    [Pending Payment]
Starter Plan

Plan: Starter (Monthly)
Amount: USD 99.00 / month

‚ö†Ô∏è Invoice Not Paid
Invoice not paid yet. Your account will be activated after payment confirmation.
Invoice number: INV-12345
```

### 3. –†—É—á–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞ –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã

**–ü—Ä–æ—Ü–µ—Å—Å –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:**

1. **–ü—Ä–æ–¥–∞–≤–µ—Ü –ø–æ–ª—É—á–∞–µ—Ç –æ–ø–ª–∞—Ç—É** (–≤–Ω–µ —Å–∏—Å—Ç–µ–º—ã)
2. **–ü—Ä–æ–¥–∞–≤–µ—Ü –∑–∞—Ö–æ–¥–∏—Ç –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** (`/admin/users`)
3. **–ù–∞—Ö–æ–¥–∏—Ç –ø–æ–¥–ø–∏—Å–∫—É –∫–ª–∏–µ–Ω—Ç–∞** (–ø–æ–∏—Å–∫ –ø–æ email/–∏–º–µ–Ω–∏)
4. **–ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "Mark as Paid"**
5. **–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
   - ‚úÖ –ú–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å —Å `pending` –Ω–∞ `paid`
   - ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `paid_at` (–¥–∞—Ç–∞ –æ–ø–ª–∞—Ç—ã)
   - ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `paid_by` (ID –∞–¥–º–∏–Ω–∞)
   - ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `expires_at` (—Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–¥–ø–∏—Å–∫–∏)
   - ‚úÖ –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –∞–∫–∫–∞—É–Ω—Ç (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø)

**API endpoint:** `/api/subscriptions/mark-paid`

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å—Ç–∞—Ç—É—Å **"Active"** (–∑–µ–ª–µ–Ω—ã–π)
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∞—Ç–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º
- –°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—á–µ—Ä–µ–∑ 30 —Å–µ–∫—É–Ω–¥ –∏–ª–∏ –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ –æ–∫–Ω–∞)

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### `SubscriptionStatus` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `components/subscription-status.tsx`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ –æ–∫–Ω–∞
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–¥–ø–∏—Å–∫–µ
- –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å—Ç–∞—Ç—É—Å–∞

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```tsx
import { SubscriptionStatus } from '~/components/subscription-status';

<SubscriptionStatus />
```

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö

**–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (`/home`):**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `SubscriptionStatus` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤–≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç —Å—Ç–∞—Ç—É—Å —Å–≤–æ–µ–π –ø–æ–¥–ø–∏—Å–∫–∏

**–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ (`/home/settings`):**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `SubscriptionStatus` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤–≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å —Å—Ç–∞—Ç—É—Å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫

## –ü—Ä–æ—Ü–µ—Å—Å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ü—Ä–∏ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–µ:

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –ø–ª–∞–Ω (Starter/Growth/Enterprise)
2. –°–æ–∑–¥–∞–µ—Ç –∞–∫–∫–∞—É–Ω—Ç
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ–¥–ø–∏—Å–∫–∞** —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `pending`
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ:
   - ‚úÖ –í—ã–±—Ä–∞–Ω–Ω—ã–π –ø–ª–∞–Ω
   - ‚úÖ –°—É–º–º—É –ø–æ–¥–ø–∏—Å–∫–∏
   - ‚ö†Ô∏è –°—Ç–∞—Ç—É—Å "Pending Payment"
   - ‚ö†Ô∏è –°–æ–æ–±—â–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ —Å—á–µ—Ç –Ω–µ –æ–ø–ª–∞—á–µ–Ω

### –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã:

1. –ü—Ä–æ–¥–∞–≤–µ—Ü –æ—Ç–º–µ—á–∞–µ—Ç –æ–ø–ª–∞—Ç—É –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
2. –°—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `paid`
3. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è `expires_at`
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç:
   - ‚úÖ –°—Ç–∞—Ç—É—Å "Active" (–∑–µ–ª–µ–Ω—ã–π)
   - ‚úÖ –î–∞—Ç—É –∏—Å—Ç–µ—á–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏
   - ‚úÖ –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π:

1. **–°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥:**
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω UA
   - –í—ã–±–µ—Ä–∏—Ç–µ –ø–ª–∞–Ω (Starter)
   - –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ `/home`
   - –î–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `SubscriptionStatus`
   - –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç–∞—Ç—É—Å "Pending Payment"
   - –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–ª–∞–Ω

3. **–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ `/admin/users`
   - –ù–∞–π–¥–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ù–∞–∂–º–∏—Ç–µ "Mark as Paid"

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–∫—Ç–∏–≤–∞—Ü–∏—é:**
   - –í–µ—Ä–Ω–∏—Ç–µ—Å—å –Ω–∞ `/home` (–∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É)
   - –°—Ç–∞—Ç—É—Å –¥–æ–ª–∂–µ–Ω –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –Ω–∞ "Active" (–∑–µ–ª–µ–Ω—ã–π)
   - –î–æ–ª–∂–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –¥–∞—Ç–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `SubscriptionStatus` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:
- ‚úÖ –ü—Ä–∏ —Ñ–æ–∫—É—Å–µ –æ–∫–Ω–∞ (`refetchOnWindowFocus: true`)
- ‚úÖ –ö–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥ (`refetchInterval: 30000`)
- ‚úÖ –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤–∏–¥–µ—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

## –ì–æ—Ç–æ–≤–æ! üéâ

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–ª–∞–Ω–∞
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –æ–ø–ª–∞—Ç—ã
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
- ‚úÖ –†—É—á–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞




