# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Dashboard Ñ Ð´Ð°Ð½Ð½Ñ‹Ð¼Ð¸ Ð¸Ð· Ð‘Ð”

## âœ… ÐœÐ¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ñ‹

Ð’ÑÐµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ñ‹:
- âœ… `20251201_add_dashboard_metrics.sql` - Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹ ÐºÐ¾Ð»Ð¾Ð½ÐºÐ¸ Ð´Ð»Ñ Ð¼ÐµÑ‚Ñ€Ð¸Ðº
- âœ… `20251202_seed_dashboard_data.sql` - ÑÐ¾Ð·Ð´Ð°Ð½ demo Ð¿Ñ€Ð¾ÐµÐºÑ‚ Ð¸ Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð·Ð° 2025 Ð³Ð¾Ð´

## ðŸ“Š ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð² Ð‘Ð”

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 1: Ð§ÐµÑ€ÐµÐ· Supabase Studio

1. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ [Supabase Studio](http://127.0.0.1:54323)
2. ÐŸÐµÑ€ÐµÐ¹Ð´Ð¸Ñ‚Ðµ Ð² **SQL Editor**
3. Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ ÑÐºÑ€Ð¸Ð¿Ñ‚: `supabase/scripts/verify-dashboard-setup.sql`
4. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹:
   - âœ… Demo project found
   - âœ… All new columns exist
   - âœ… All 12 monthly data points found
   - âœ… Ð’ÑÐµ Ñ€Ð°ÑÑ‡ÐµÑ‚Ñ‹ ClinicAI Score ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ñ‹

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 2: Ð§ÐµÑ€ÐµÐ· SQL Ð·Ð°Ð¿Ñ€Ð¾Ñ

```sql
-- Ð‘Ñ‹ÑÑ‚Ñ€Ð°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ°
SELECT 
  COUNT(*) as total_records,
  MIN(week_start) as first_month,
  MAX(week_start) as last_month,
  ROUND(AVG(clinic_ai_score)::numeric, 2) as avg_score
FROM public.weekly_stats ws
JOIN public.projects p ON p.id = ws.project_id
WHERE p.domain = 'demo-clinic.com'
  AND ws.week_start >= '2025-01-01'
  AND ws.week_start < '2026-01-01';
```

ÐžÐ¶Ð¸Ð´Ð°ÐµÐ¼Ñ‹Ð¹ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚:
- `total_records`: 12
- `first_month`: 2025-01-06
- `last_month`: 2025-12-01
- `avg_score`: ~67-68

## ðŸ–¥ï¸ ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Dashboard

### Ð¨Ð°Ð³Ð¸ Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸:

1. **Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ dev server** (ÐµÑÐ»Ð¸ ÐµÑ‰Ðµ Ð½Ðµ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½):
   ```bash
   cd apps/web
   pnpm dev
   ```

2. **ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ**:
   - ÐŸÐµÑ€ÐµÐ¹Ð´Ð¸Ñ‚Ðµ Ð½Ð° http://localhost:3000
   - Ð’Ð¾Ð¹Ð´Ð¸Ñ‚Ðµ Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ (ÐµÑÐ»Ð¸ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ)

3. **ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð²ÐºÐ»Ð°Ð´ÐºÑƒ Dashboard**:
   - Ð’ Ð»ÐµÐ²Ð¾Ð¼ Ð¼ÐµÐ½ÑŽ Ð²Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ "Dashboard" Ð¸Ð»Ð¸ "Home"
   - Ð”Ð¾Ð»Ð¶Ð½Ð° Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚ÑŒÑÑ Ð²ÐºÐ»Ð°Ð´ÐºÐ° Ñ Ð´Ð°ÑˆÐ±Ð¾Ñ€Ð´Ð¾Ð¼

4. **ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÑƒ Ð´Ð°Ð½Ð½Ñ‹Ñ…**:
   - âœ… Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ (Ð±ÐµÐ· Ð½Ð°Ð¶Ð°Ñ‚Ð¸Ñ ÐºÐ½Ð¾Ð¿Ð¾Ðº)
   - âœ… Ð”Ð¾Ð»Ð¶ÐµÐ½ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð·Ð¸Ñ‚ÑŒÑÑ Ð³Ñ€Ð°Ñ„Ð¸Ðº Ñ 12 Ñ‚Ð¾Ñ‡ÐºÐ°Ð¼Ð¸ (Ð¼ÐµÑÑÑ†Ñ‹ 2025 Ð³Ð¾Ð´Ð°)
   - âœ… KPI ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ¸ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°Ñ‚ÑŒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¸Ð· Ð‘Ð”
   - âœ… ClinicAI Score Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ Ñ€Ð°ÑÑÑ‡Ð¸Ñ‚Ð°Ð½ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾

### ÐžÐ¶Ð¸Ð´Ð°ÐµÐ¼Ñ‹Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð½Ð° Dashboard:

**ÐŸÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ (Ð”ÐµÐºÐ°Ð±Ñ€ÑŒ 2025):**
- ClinicAI Score: ~83%
- Visibility: 80%
- Tech: 85%
- Content: 84%
- E-E-A-T: 80%
- Local: 72%
- Avg Position: 3.0

**Ð“Ñ€Ð°Ñ„Ð¸Ðº Ñ‚Ñ€ÐµÐ½Ð´Ð°:**
- Ð”Ð¾Ð»Ð¶ÐµÐ½ Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°Ñ‚ÑŒ Ñ€Ð¾ÑÑ‚ Ð¾Ñ‚ ~52% (Ð¯Ð½Ð²Ð°Ñ€ÑŒ) Ð´Ð¾ ~83% (Ð”ÐµÐºÐ°Ð±Ñ€ÑŒ)
- 12 Ñ‚Ð¾Ñ‡ÐµÐº Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ð¾ Ð¼ÐµÑÑÑ†Ð°Ð¼

## ðŸ” ÐžÑ‚Ð»Ð°Ð´ÐºÐ° Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: "No data found" Ð¸Ð»Ð¸ Ð¿ÑƒÑÑ‚Ð¾Ð¹ Ð´Ð°ÑˆÐ±Ð¾Ñ€Ð´

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:**
1. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ, Ñ‡Ñ‚Ð¾ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ñ‹:
   ```bash
   pnpm supabase db reset
   ```

2. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð² Ð‘Ð” Ñ‡ÐµÑ€ÐµÐ· SQL Editor

3. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ð° Ð½Ð° Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ðµ Ð¾ÑˆÐ¸Ð±Ð¾Ðº

4. Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ `projectId = 'demo'` Ð² ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ðµ

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: "Project not found"

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:**
1. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ, Ñ‡Ñ‚Ð¾ demo Ð¿Ñ€Ð¾ÐµÐºÑ‚ ÑÐ¾Ð·Ð´Ð°Ð½:
   ```sql
   SELECT * FROM public.projects WHERE domain = 'demo-clinic.com';
   ```

2. Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ Ð»Ð¾Ð³Ð¸ÐºÐ° Ð¿Ð¾Ð¸ÑÐºÐ° Ð¿Ð¾ domain Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ (ÐºÐ¾Ð´ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½)

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: "clinic_ai_score is NULL"

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:**
1. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ, Ñ‡Ñ‚Ð¾ Ñ‚Ñ€Ð¸Ð³Ð³ÐµÑ€ ÑÐ¾Ð·Ð´Ð°Ð½:
   ```sql
   SELECT * FROM pg_trigger WHERE tgname = 'auto_calculate_clinic_ai_score';
   ```

2. Ð•ÑÐ»Ð¸ Ñ‚Ñ€Ð¸Ð³Ð³ÐµÑ€ Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸ÑŽ ÑÐ½Ð¾Ð²Ð°

## ðŸ“ Ð›Ð¾Ð³Ð¸ Ð´Ð»Ñ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ¸

Ð’ ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ð° (DevTools) Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð±Ñ‹Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸:
- `[Dashboard] Fetching metrics for project: demo`
- `[Dashboard] Found project: Demo Medical Clinic`
- `[Dashboard] Found X weekly stats records`

Ð•ÑÐ»Ð¸ Ð²Ð¸Ð´Ð¸Ñ‚Ðµ Ð¾ÑˆÐ¸Ð±ÐºÐ¸, Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ:
- ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº Supabase
- RLS Ð¿Ð¾Ð»Ð¸Ñ‚Ð¸ÐºÐ¸ (Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ñ€Ð°Ð·Ñ€ÐµÑˆÐ°Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿)
- ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ projectId

## âœ… Ð§ÐµÐºÐ»Ð¸ÑÑ‚ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸

- [ ] ÐœÐ¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ñ‹ (`pnpm supabase db reset`)
- [ ] Demo Ð¿Ñ€Ð¾ÐµÐºÑ‚ ÑÐ¾Ð·Ð´Ð°Ð½ (Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ‡ÐµÑ€ÐµÐ· SQL)
- [ ] 12 Ð·Ð°Ð¿Ð¸ÑÐµÐ¹ Ð² weekly_stats Ð·Ð° 2025 Ð³Ð¾Ð´
- [ ] Ð’ÑÐµ ÐºÐ¾Ð»Ð¾Ð½ÐºÐ¸ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‚ (content_score, eeat_score, local_score)
- [ ] clinic_ai_score Ñ€Ð°ÑÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸
- [ ] Dashboard Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÑ‚ÑÑ Ð±ÐµÐ· Ð¾ÑˆÐ¸Ð±Ð¾Ðº
- [ ] Ð“Ñ€Ð°Ñ„Ð¸Ðº Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ 12 Ñ‚Ð¾Ñ‡ÐµÐº Ð´Ð°Ð½Ð½Ñ‹Ñ…
- [ ] KPI ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ¸ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÑŽÑ‚ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¸Ð· Ð‘Ð”








